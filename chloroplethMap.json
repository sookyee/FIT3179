{
	"$schema": "https://vega.github.io/schema/vega-lite/v4.json",

	"width": 800,
	"height": 300,
	"background": "#e6f4fd",
	"projection": { "type": "equalEarth" },
	"data": {
		"url": "https://raw.githubusercontent.com/KaneSec/vega_lite/main/3_choropleth_map/js/ne_110m_admin_0_countries.topojson",
		"format": {
			"type": "topojson",
			"feature": "ne_110m_admin_0_countries"
		}
	},

	"transform": [
		{

			"lookup": "properties.NAME",
			"from": {
				"data": {
					"url": "https://raw.githubusercontent.com/sookyee/FIT3179/main/educational_expenditure_2011.json"
				},
				"key": "country",
				"fields": [ "expenses", "blah" ]
			}

		},
		{
			"calculate": "datum.expenses + 0",
			"as": "(%) of GDP 1995"
		},
		{
			"calculate": "datum.blah + 0",
			"as": "2000"
		}
	],
	"hconcat": [

		{
			"mark": { "type": "geoshape" },
			"encoding": {
				"color": {
					"field": "(%) of GDP 1995",
					"type": "quantitative",
					"scale": {
						"type": "linear",
						"scheme": "tealblues"
					}

				},
				"legends": {
					"fill": "color",
					"orient": "bottom-right",
					"title": "Unemployment",
					"format": "0.1%"
				},
				"tooltip": [
					{
						"field": "properties.NAME",
						"type": "nominal",
						"title": "Country"
					},
					{
						"field": "(%) of GDP 1995",
						"type": "quantitative",
						"title": "Expenses(%)"
					}
				]
			}
		},
		{
			"mark": { "type": "geoshape" },
			"encoding": {

				"color": {
					"field": "2000",
					"type": "quantitative",
					"scale": {
						"type": "linear",
						"scheme": "tealblues"
					}

				},
				"legends": {
					"fill": "color",
					"orient": "bottom-right",
					"title": "Unemployment",
					"format": "0.1%"
				},
				"tooltip": [
					{
						"field": "properties.NAME",
						"type": "nominal",
						"title": "Country"
					},
					{
						"field": "2000",
						"type": "quantitative",
						"title": "Expenses(%)"
					}
				]
			}
		}
	]
}
