<!DOCTYPE html>
<html>
<head>
    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
    <!-- Import vega-embed -->
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="universityRank.css" media="screen" />
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12">
                <h1>University Rankings</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <h3>Top 500 Universities Around the World. Where Are They Now?</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 col-xs-12">
                <p>
                    This map shows the distrbution of the top universities across different countries. It is apparent
                    that most top universities reside in the <b> U.S, Japan, and U.K.</b>  Does the ranking system really reflect the quality of
                    education in the country or is there an underlying bias in how these rankings are derived?
                    Let's find out.
                </p>
            </div>
            <div class="row">
                <div class="col-xs-7">
                    <div id="visMap">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <h3>Country Expenditure on Higher Education (1995 /2005 /2011) </h3>
            </div>
            <div class="col-md-12 col-xs-12">
                <p>
                    This map shows the <b> country's expenditure</b> on <b> public universities</b> as a percentage of the country's Gross Domestic Product (GDP) revenue.
                    We see that U.S. has consistently spent the highest percentage in higher education compared to other countries. However, there's a sharp decrease in public
                    university expenditures in 2011, perhaps indicating the gradual shift in trends from public to private universities.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <div id="visCMap">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-4">
                <h3>The Times Ranking</h3>

            </div>
            <div class="col-xs-4 header">

            </div>
            <div class="col-xs-4 header">
                <h3>Shanghai Ranking</h3>

            </div>
        </div>

        <div class="row row-eq-height">

            <div id="vis" class="col-xs-12 col-md-5">

            </div>
            <div class="col-xs-12 col-md-1" style="height: 380px; display: table-cell; vertical-align: middle; text-align: center;">
                <img src="https://raw.githubusercontent.com/sookyee/FIT3179/main/california.png" width="90" height="70" />
                <br />
                <img src="https://raw.githubusercontent.com/sookyee/FIT3179/main/harvard.png" width="100" height="60" />

                <br />
                <img src="https://raw.githubusercontent.com/sookyee/FIT3179/main/MIT.png" width="90" height="70" />
                <br />
                <img src="https://raw.githubusercontent.com/sookyee/FIT3179/main/princeton.png" width="100" height="60" />
                <br />
                <img src="https://raw.githubusercontent.com/sookyee/FIT3179/main/stanford.png" width="100" height="60" />
                <br />
                <img src="https://raw.githubusercontent.com/sookyee/FIT3179/main/cambridge.png" width="100" height="70" />
                <br />
            </div>


            <div id="visTwo" class="col-xs-12 col-md-5"> </div>
        </div>
        <div class="row">
            <div class="col-md-12 col-xs-12">
                <p>
                    <b>THE (Times Higher Education)</b>has been providing trusted performance data on universities since 2004. However, its
                    ranking system
                    has been criticized for its strong bias towards  more "popular" institutions and institutions
                    that taught 'hard science' and not subjects like arts and humanities. Meanwhile, <b>Shanghai ranking</b>, also known as ARWU ranking,
                    is the first world university ranking. It ranks the world's top 1800 universities since 2003. However, it draws wide criticism as it fails to adjust for the size of the institution,
                    and thus larger institutions tend to rank above smaller ones. Thus, we analyse the 6 most popular
                    universities, <b> California Institute of Technology, Harvard, MIT, Princeton, Stanford, and Cambridge</b> to determine the factors of their ranking in both ranking systems.
                </p>

            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <h3> Student Population</h3>
            </div>
        </div>
        <div class="row">
            <div id="visThree" class="col-xs-6 col-md-6">
            </div>
            <div class="col-md-5 col-xs-6" style="margin-left:5px; vertical-align:middle">
                <p>
                     The  female ratio is much lower than the male ratio in these top universities with the largest ratio range
                    being California Institute of Technology and MIT. Both universities are known for science and technology, proving
                    the streotype of the male gender's stronger inclination towards science & technology.

                </p>
                <br />
                <br />
                <br />
                <p>
                   Both Shanghai and Times are criticised for being biased towards larger institutions.
                   This analysis shows the student population in each top university. Harvard has a substantially higher number of students compared to other competitor universities,
                    followed by Cambridge, MIT, Princeton and lastly California Institute of Technology. 
                </p>
            </div>
        </div>
        <div class="row">
            <div id="visFour" class="col-xs-5 col-md-7">
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <h3> Research vs Teaching Quality</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 col-xs-12">
                <p>
                   This chart shows the trends in <b> teaching quality and research output</b> of the top universities. It can be seen that 
                    the teaching quality has been gradually decreasing over the years while research output remains relatively constant.
                </p>

            </div>
        </div>
        <div class="row">
            <div id="visFive" class="col-xs-12"></div>
        </div>





        <script type="text/javascript">
            var spec = "https://raw.githubusercontent.com/sookyee/FIT3179/main/TimesBumpChart.json";
            vegaEmbed('#vis', spec, { renderer: "svg", actions: false }).then(function (result) {
                // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            }).catch(console.error);

            var specTwo = "https://raw.githubusercontent.com/sookyee/FIT3179/main/ShanghaiBumpChart.json";
            vegaEmbed('#visTwo', specTwo, { renderer: "svg", actions: false }).then(function (result) {
                // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            }).catch(console.error);
            var specMap = "https://raw.githubusercontent.com/sookyee/FIT3179/main/mapCount.json";
            vegaEmbed('#visMap', specMap, { renderer: "svg", actions: false }).then(function (result) {
                // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            }).catch(console.error);
            $(window).on('resize', function () {
                // assume I have an element and viewInstance variables representing
                // the container, and vega View instance, respectively. 
                const $element = $(element)
                const width = $element.width();
                const height = $element.height();
                specMap.width(width).height(height).run();
            });
            var specMapTwo = "https://raw.githubusercontent.com/sookyee/FIT3179/main/chloroplethMap.json";
            vegaEmbed('#visCMap', specMapTwo, { renderer: "svg", actions: false }).then(function (result) {
                // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            }).catch(console.error);
            var specThree = "https://raw.githubusercontent.com/sookyee/FIT3179/main/male_female_chart.json";
            vegaEmbed('#visThree', specThree, { renderer: "svg", actions: false }).then(function (result) {
                // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            }).catch(console.error);
            var specFour = "https://raw.githubusercontent.com/sookyee/FIT3179/main/trellis.json";
            vegaEmbed('#visFour', specFour, { renderer: "svg", actions: false }).then(function (result) {
                // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            }).catch(console.error);
            var specFive = "https://raw.githubusercontent.com/sookyee/FIT3179/main/PublicationChart.json";
            vegaEmbed('#visFive', specFive, { renderer: "svg", actions: false }).then(function (result) {
                // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            }).catch(console.error);

        </script>
    </div>
</body>
</html>
